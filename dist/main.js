!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=1)}([function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(0);function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.height=50,this.width=50,this.dmg=n,this.name=e.name,this.target=i,this.img=new Image,this.img.src="./src/images/rock.png",this.position={x:e.position.x+e.width/2,y:e.position.y+50},this.attackTop={x:i.position.x-i.width/5,y:i.position.y+i.height/2},this.attackBot={x:i.position.x+i.width-20,y:i.position.y},this.xVelocity=e.position.x>i.position.x?-150:150,this.yVelocity=150===this.xVelocity?-60:60,this.finalPos=this.xVelocity>0?this.attackTop:this.attackBot,this.done=!1}var e,i,a;return e=t,(i=[{key:"handleCollision",value:function(){this.target.health-=this.dmg,this.target.handleAttack(),this.target.health<=0&&(this.target.health=0)}},{key:"update",value:function(t){this.xVelocity>0?this.position.x<=this.finalPos.x||this.position.y>=this.finalPos.y?(this.position.x+=this.xVelocity/t,this.position.y+=this.yVelocity/t):this.done=!0:this.position.x>=this.finalPos.x||this.position.y<=this.finalPos.y?(this.position.x+=this.xVelocity/t,this.position.y+=this.yVelocity/t):this.done=!0}},{key:"draw",value:function(t){if(this.done)return null;t.drawImage(this.img,this.position.x,this.position.y,this.width,this.height)}}])&&n(e.prototype,i),a&&n(e,a),t}();function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameHeight=i,this.gameWidth=n,this.finalStatus=e,this.currentStatus1="",this.currentStatus2="",this.statusLine1="",this.statusLine2="",this.height=125,this.width=500,this.count=0,this.length=e.length,this.position={x:this.gameWidth-this.width-50,y:this.gameHeight-this.height-30},this.draw=this.draw.bind(this),this.update=this.update.bind(this),this.checkLineLength(e)}var e,i,n;return e=t,(i=[{key:"checkLineLength",value:function(t){var e=t.split(" ");e.length>6?(this.statusLine1=e.slice(0,6).join(" "),this.statusLine2=e.slice(6).join(" ")):this.statusLine1=t}},{key:"drawWinnerText",value:function(t){t.font='20px "Press Start 2P"',t.fillStyle="black";var e=this.position.x+15;t.fillText(this.currentStatus1,e+50,this.position.y+this.height/1.75)}},{key:"drawMultiLineStatus",value:function(t){var e=this.position.y+this.height/3+15;this.drawSingleLine(t,e),this.count>=this.statusLine1.length&&this.drawSingleLine(t,e+25,this.currentStatus2)}},{key:"drawSingleLine",value:function(t,e,i){void 0===e&&(e=this.position.y+this.height/1.75),void 0===i&&(i=this.currentStatus1),t.font='12px "Press Start 2P"',t.fillStyle="black";var n=this.position.x+15;t.fillText(i,n,e)}},{key:"draw",value:function(t){t.rect(this.position.x,this.position.y,this.width,this.height),t.fillStyle="white",t.fill(),t.lineWidth=5,t.strokeStyle="black",t.stroke(),this.finalStatus.includes("wins")?this.drawWinnerText(t):this.statusLine1&&this.statusLine2?this.drawMultiLineStatus(t):this.drawSingleLine(t)}},{key:"update",value:function(){if(this.finalStatus.includes("wins"))this.currentStatus1=this.finalStatus;else if(this.count<this.length)if(this.count<this.statusLine1.length)this.currentStatus1+=this.finalStatus[this.count],this.count++;else{if(this.count===this.statusLine1.length)return void this.count++;this.currentStatus2+=this.finalStatus[this.count],this.count++}}}])&&s(e.prototype,i),n&&s(e,n),t}();function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.height=25,this.width=25,this.img=new Image,this.img.src="./src/images/heal.png",this.position={x:e,y:i+n/2},this.yVelocity=60,this.done=!1,this.finalPos={y:i-n/2}}var e,i,n;return e=t,(i=[{key:"handleCollision",value:function(){}},{key:"update",value:function(t){this.position.y>=this.finalPos.y?this.position.y-=this.yVelocity/t:this.done=!0}},{key:"draw",value:function(t){if(this.done)return null;t.drawImage(this.img,this.position.x,this.position.y,this.width,this.height)}}])&&o(e.prototype,i),n&&o(e,n),t}();function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e.name,this.fileName=e.name.split(" ").join(""),this.img=new Image,this.img.src="./src/images/".concat(this.fileName,".png"),this.height=150,this.width=150,this.gameWidth=n,this.gameHeight=i,this.health=e.health,this.currentHealth=e.health,this.maxHealth=e.health,this.attacking=!1,this.attacked=!1,this.inPosition=!1,this.items=[],this.inPosition=!1,this.statusText=null,this.attackText=e.attackText,this.healText=e.healText,this.attackPower=e.attackPower,this.velocity=55,this.position={y:20,x:this.gameWidth-this.width-50},this.initialPosition={x:this.gameWidth},this.checkName(e.name)}var e,i,n;return e=t,(i=[{key:"checkName",value:function(t){"Internet Explorer"===t&&(this.name="IE")}},{key:"draw",value:function(t,e){var i=this;this.attacked||t.drawImage(this.img,this.initialPosition.x,this.position.y,this.width,this.height),this.items.forEach((function(n,a){n.done&&(n.handleCollision(),delete i.items[a]),n.update(e),n.draw(t)}))}},{key:"update",value:function(t){t&&(this.initialPosition.x>this.position.x&&(this.initialPosition.x-=this.velocity/t),this.initialPosition.x<=this.position.x&&(this.inPosition=!0))}},{key:"handleAttack",value:function(){var t=this;this.attacked=!0;var e=setInterval((function(){clearInterval(e),t.attacked=!1}),20)}},{key:"attackAnimation",value:function(t){var e=this,i=Math.random(),n=Math.round((i<.25?.25:i)*this.attackPower);this.statusText=new h("".concat(this.name," ").concat(this.attackText," ").concat(t.name," doing ").concat(n," damage!"),this.gameHeight,this.gameWidth),this.attacking=!0;var s=0,o=n/3,r=setInterval((function(){s++,e.items.push(new a(e,t,o)),3===s&&clearInterval(r)}),250),l=setInterval((function(){clearInterval(l),e.attacking=!1}),2750)}},{key:"heal",value:function(){var t=this;this.healAnimation();var e=Math.round(.1*this.maxHealth);this.statusText=new h("".concat(this.name," ").concat(this.healText," healing for ").concat(e,"!"),this.gameHeight,this.gameWidth),this.attacking=!0,this.health+=e,this.health>=this.maxHealth&&(this.health=this.maxHealth);var i=setInterval((function(){clearInterval(i),t.attacking=!1}),2250)}},{key:"healAnimation",value:function(){var t=this,e=0,i=this.width/4,n=this.position.x-this.width/2,a=setInterval((function(){10==++e&&clearInterval(a),6===e&&(i=t.width/3),i+=t.width/5,t.items.push(new r(n+i,t.position.y+t.height/2,t.height))}),100)}},{key:"playTurn",value:function(t){var e=this,i=this.health<20&&t.health>20?function(){return e.heal()}:function(t){return e.attackAnimation(t)};setTimeout((function(){return i(t)}),1)}}])&&l(e.prototype,i),n&&l(e,n),t}();function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var d=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e.name,this.fileName=this.name.split(" ").join(""),this.img=new Image,this.img.src="./src/images/".concat(this.fileName,".png"),this.height=150,this.width=150,this.gameHeight=i,this.gameWidth=n,this.health=e.health,this.currentHealth=e.health,this.maxHealth=e.health,this.attacking=!1,this.attacked=!1,this.items=[],this.inPosition=!1,this.statusText=null,this.attackText=e.attackText,this.healText=e.healText,this.attackPower=e.attackPower,this.velocity=55,this.position={y:this.gameHeight-this.height-50,x:40},this.initialPosition={x:-this.width},this.checkName(e.name)}var e,i,n;return e=t,(i=[{key:"checkName",value:function(t){"Internet Explorer"===t&&(this.name="IE")}},{key:"draw",value:function(t,e){var i=this;this.attacked||t.drawImage(this.img,this.initialPosition.x,this.position.y,this.width,this.height),this.items=this.items.filter((function(t){return t})),this.items.forEach((function(n,a){n.done&&(n.handleCollision(),delete i.items[a]),n.update(e),n.draw(t)}))}},{key:"update",value:function(t){t&&(this.initialPosition.x<this.position.x&&(this.initialPosition.x+=this.velocity/t),this.initialPosition.x>=this.position.x&&(this.inPosition=!0))}},{key:"handleAttack",value:function(){var t=this;this.attacked=!0;var e=setInterval((function(){clearInterval(e),t.attacked=!1}),20)}},{key:"attackAnimation",value:function(t){var e=this;this.attacking=!0;var i=Math.random(),n=Math.round((i<.25?.25:i)*this.attackPower);this.statusText=new h("".concat(this.name," ").concat(this.attackText," ").concat(t.name," doing ").concat(n," damage!"),this.gameHeight,this.gameWidth);var s=0,o=n/3,r=setInterval((function(){s++,e.items.push(new a(e,t,o)),3===s&&clearInterval(r)}),250),l=setInterval((function(){clearInterval(l),e.attacking=!1}),2750)}},{key:"heal",value:function(){var t=this;this.healAnimation();var e=Math.round(.1*this.maxHealth);this.statusText=new h("".concat(this.name," ").concat(this.healText," healing for ").concat(e,"!"),this.gameHeight,this.gameWidth),this.attacking=!0,this.health+=e,this.health>=this.maxHealth&&(this.health=this.maxHealth);var i=setInterval((function(){clearInterval(i),t.attacking=!1}),2250)}},{key:"healAnimation",value:function(){var t=this,e=0,i=this.width/4,n=this.position.x-this.width/2,a=setInterval((function(){10==++e&&clearInterval(a),6===e&&(i=t.width/3),i+=t.width/5,t.items.push(new r(n+i,t.position.y+t.height/2,t.height))}),100)}}])&&u(e.prototype,i),n&&u(e,n),t}();function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameHeight=e.gameHeight,this.gameWidth=e.gameWidth,this.height=25,this.width=.75*e.width,this.player=e,this.draw=this.draw.bind(this),this.position={x:e.position.x+e.width/8,y:e.position.y+e.height+10}}var e,i,n;return e=t,(i=[{key:"update",value:function(t){this.player.currentHealth!==this.player.health&&(this.player.currentHealth<this.player.health&&(this.player.currentHealth+=.5),this.player.currentHealth>this.player.health&&(this.player.currentHealth-=.5))}},{key:"draw",value:function(t){this.player.inPosition&&(t.fillStyle="white",t.fillRect(this.position.x,this.position.y,this.width,this.height),t.fillStyle="red",t.fillRect(this.position.x,this.position.y,this.width*(this.player.currentHealth/this.player.maxHealth),this.height),t.font="16px Arial",t.fillStyle="black",t.fillText(Math.round(this.player.currentHealth),this.position.x+this.width/2.5,this.position.y+this.height-5))}}])&&f(e.prototype,i),n&&f(e,n),t}();function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameHeight=e,this.gameWidth=i,this.game=n,this.height=125,this.width=500,this.selected=0,this.optionsText=["Attack","Heal","Quit"],this.options=[this.attack,this.heal,null],this.position={x:this.gameWidth-this.width-50,y:this.gameHeight-this.height-30}}var e,i,n;return e=t,(i=[{key:"drawLine",value:function(t,e){var i=this.gameHeight-75;0===this.selected?(t.beginPath(),t.moveTo(e,i),t.lineTo(e+85,i),t.closePath(),t.stroke()):1===this.selected?(t.beginPath(),t.moveTo(e+140,i),t.lineTo(e+195,i),t.closePath(),t.stroke()):2===this.selected&&(t.beginPath(),t.moveTo(e+250,i),t.lineTo(e+310,i),t.closePath(),t.stroke())}},{key:"draw",value:function(t){t.rect(this.position.x,this.position.y,this.width,this.height),t.fillStyle="white",t.fill(),t.lineWidth=5,t.strokeStyle="black",t.stroke();var e=this.optionsText.join("    ");t.font='14px "Press Start 2P"',t.fillStyle="black";var i=this.position.x+this.width/6;t.fillText(e,i,this.position.y+this.height/1.75),this.drawLine(t,i)}},{key:"attack",value:function(t,e){t.attackAnimation(e)}},{key:"heal",value:function(t){t.heal()}}])&&m(e.prototype,i),n&&m(e,n),t}();function g(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var v=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.computer=i,this.gameState=!1,this.activeAttack=!1,this.start=!1,this.playHealth=new p(this.player),this.compHealth=new p(this.computer),this.battleOptions=new y(this.player.gameHeight,this.player.gameWidth,this),this.winnerText=null,this.currentPlayer=this.player,this.status=null,this.changeTurn=this.changeTurn.bind(this),this.checkNames()}var e,i,n;return e=t,(i=[{key:"checkNames",value:function(){this.player.name===this.computer.name&&(this.computer.name+=" v2")}},{key:"changeTurn",value:function(){this.currentPlayer===this.player?this.currentPlayer=this.computer:this.currentPlayer=this.player}},{key:"winner",value:function(){var t="";return this.player.health<=0&&(t="".concat(this.computer.name," wins!")),this.computer.health<=0&&(t="".concat(this.player.name," wins!")),!!t&&(this.winnerText=new h(t,this.player.gameHeight,this.player.gameWidth),!0)}},{key:"gameOver",value:function(){return(this.player.currentHealth<=0||this.computer.currentHealth<=0)&&(this.gameState=!1,!0)}}])&&g(e.prototype,i),n&&g(e,n),t}();function w(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var k=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.images=[],this.selected=0,this.length=e.length,this.gameWidth=i,this.gameHeight=n,this.loadImages()}var e,i,n;return e=t,(i=[{key:"loadImages",value:function(){var t=this;this.options.forEach((function(e){var i=new Image,n=e.name.split(" ").join("");i.src="./src/images/".concat(n,".png"),t.images.push(i)}))}},{key:"drawBox",value:function(t,e,i){var n=2===this.selected?225:110,a=i-205;t.rect(e,i,n,a),t.lineWidth=5,t.strokeStyle="white",t.stroke()}},{key:"draw",value:function(t){var e=this,i=100,n=this.gameHeight/1.5;t.fillStyle="rgba(0, 0, 0, 0.75)",t.fillRect(0,0,this.gameWidth,this.gameHeight),t.font='40px "Press Start 2P"',t.fillStyle="white",t.fillText("CHOOSE YOUR BROWSER",35,this.gameHeight/4),this.options.forEach((function(a,s){var h=a.name,o=a.attackPower,r=a.health;s>2&&(i+=75),t.drawImage(e.images[s],i+15,n-90,50,50),t.font='12px "Press Start 2P"',t.fillText("".concat(h),i,n),t.fillText("AP: ".concat(o),i,n+27),t.fillText("HP: ".concat(r),i,n+53),s===e.selected&&e.drawBox(t,i-15,n-25),i+=150})),this.drawBox(t)}}])&&w(e.prototype,i),n&&w(e,n),t}(),x=[{health:95,attackPower:18,name:"Chrome",attackText:"threw rocks at",healText:"used consume RAM,"},{health:105,attackPower:15,name:"Firefox",attackText:"threw rocks at",healText:"used a Privacy Protection,"},{health:120,attackPower:5,name:"Internet Explorer",attackText:"used Obsolete, it's pretty useless and hit",healText:"used Prevent Uninstall, it just wont go away"},{health:110,attackPower:12,name:"Safari",attackText:"threw rocks at",healText:"used a band-aid,"}];document.addEventListener("DOMContentLoaded",(function(){var t,e,i,n=document.getElementById("game-board").getContext("2d"),a=new k(x,840,480),s=document.getElementById("menu"),h=function t(e){32===e.keyCode&&(e.preventDefault(),n.clearRect(0,0,840,480),s.classList.add("close-menu"),window.removeEventListener("keydown",t),window.addEventListener("keydown",m),g())};window.addEventListener("keydown",h);var o,r=document.getElementById("game-over"),l=function e(i){32===i.keyCode&&(i.preventDefault(),n.clearRect(0,0,840,480),r.classList.add("close-menu"),s.classList.remove("close-menu"),window.removeEventListener("keydown",e),window.addEventListener("keydown",h),t=null)},u=document.getElementById("you-sure"),f=function e(i){121!==i.keyCode&&89!==i.keyCode||(i.preventDefault(),n.clearRect(0,0,840,480),u.classList.add("close-menu"),s.classList.remove("close-menu"),null,null,t=null,window.removeEventListener("keydown",e),window.addEventListener("keydown",h)),110!==i.keyCode&&78!==i.keyCode||(i.preventDefault(),u.classList.add("close-menu"),window.removeEventListener("keydown",e),window.addEventListener("keydown",p),requestAnimationFrame(g))},p=function e(i){if(t&&(t.player.inPosition&&t.computer.inPosition&&(t.start=!0),t.currentPlayer===t.player&&!1===t.activeAttack&&!0===t.start)){var n=t.battleOptions.selected;switch(i.keyCode){case 37:i.preventDefault(),(n-=1)<0&&(n=t.battleOptions.options.length-1),t.battleOptions.selected=n;break;case 39:i.preventDefault(),++n>t.battleOptions.options.length-1&&(n=0),t.battleOptions.selected=n;break;case 13:i.preventDefault();var a=t.battleOptions.options[n];if(n===t.battleOptions.options.length-1)return cancelAnimationFrame(o),u.classList.remove("close-menu"),window.removeEventListener("keydown",e),void window.addEventListener("keydown",f);t.activeAttack=!0,t.changeTurn(),a(t.player,t.computer)}}},m=function n(s){var h=a.selected;switch(s.keyCode){case 37:s.preventDefault(),(h-=1)<0&&(h=a.length-1),a.selected=h;break;case 39:s.preventDefault(),++h>a.length-1&&(h=0),a.selected=h;break;case 13:s.preventDefault();var o=a.options[h],r=Math.round(Math.random()*(a.length-1)),l=a.options[r];e=new d(o,480,840),i=new c(l,480,840),t=new v(e,i),window.removeEventListener("keydown",n),window.addEventListener("keydown",p)}},y=0;function g(e){var i=e-y;y=e,n.clearRect(0,0,840,480),n.beginPath(),t?(t.player.update(i),t.player.draw(n,i),t.computer.update(i),t.computer.draw(n,i),t.playHealth.update(i),t.playHealth.draw(n),t.compHealth.update(i),t.compHealth.draw(n),t.player.inPosition&&t.computer.inPosition?t.gameState=!0:o=requestAnimationFrame(g),t.gameState&&(t.computer.attacking||t.player.attacking||(t.activeAttack=!1),t.currentPlayer!==t.computer||t.activeAttack||(t.activeAttack=!0,t.computer.playTurn(t.player),t.currentPlayer=t.player),t.winner()?(t.winnerText.update(),t.winnerText.draw(n)):t.currentPlayer===t.player&&t.activeAttack?t.computer.statusText?(t.computer.statusText.update(),t.computer.statusText.draw(n)):t.battleOptions.draw(n):t.currentPlayer===t.computer&&t.activeAttack?(t.player.statusText.update(),t.player.statusText.draw(n)):t.battleOptions.draw(n),t.gameOver()&&!t.activeAttack&&(t.activeAttack=!0),t.gameState?o=requestAnimationFrame(g):(cancelAnimationFrame(o),setTimeout((function(){window.removeEventListener("keydown",p),r.classList.remove("close-menu"),window.addEventListener("keydown",l)}),2e3)))):(a.draw(n),o=requestAnimationFrame(g))}}))}]);
//# sourceMappingURL=main.js.map