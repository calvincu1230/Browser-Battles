!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=1)}([function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(0);function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.height=50,this.width=50,this.dmg=n,this.name=e.name,this.target=i,this.img=new Image,this.img.src="./src/images/rock.png",this.position={x:e.position.x+e.width/2,y:e.position.y+50},this.attackTop={x:i.position.x-i.width/5,y:i.position.y+i.height/2},this.attackBot={x:i.position.x+i.width-20,y:i.position.y},this.xVelocity=e.position.x>i.position.x?-150:150,this.yVelocity=150===this.xVelocity?-60:60,this.done=!1,this.finalPos=this.xVelocity>0?this.attackTop:this.attackBot}var e,i,a;return e=t,(i=[{key:"handleCollision",value:function(){this.target.health-=this.dmg,this.target.handleAttack(),this.target.health<=0&&(this.target.health=0)}},{key:"update",value:function(t){this.xVelocity>0?this.position.x<=this.finalPos.x||this.position.y>=this.finalPos.y?(this.position.x+=this.xVelocity/t,this.position.y+=this.yVelocity/t):this.done=!0:this.position.x>=this.finalPos.x||this.position.y<=this.finalPos.y?(this.position.x+=this.xVelocity/t,this.position.y+=this.yVelocity/t):this.done=!0}},{key:"draw",value:function(t){if(this.done)return null;t.drawImage(this.img,this.position.x,this.position.y,this.width,this.height)}}])&&n(e.prototype,i),a&&n(e,a),t}();function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameHeight=i,this.gameWidth=n,this.finalStatus=e,this.currentStatus="",this.height=125,this.width=400,this.count=0,this.length=e.length,this.position={x:this.gameWidth-this.width-50,y:this.gameHeight-this.height-30},this.draw=this.draw.bind(this),this.update=this.update.bind(this)}var e,i,n;return e=t,(i=[{key:"draw",value:function(t){t.rect(this.position.x,this.position.y,this.width,this.height),t.fillStyle="white",t.fill(),t.lineWidth=5,t.strokeStyle="black",t.stroke(),t.font="16px Press Start 2P",t.fillStyle="black";var e=this.position.x+20;t.fillText(this.currentStatus,e,this.position.y+this.height/1.75)}},{key:"update",value:function(){this.finalStatus.includes("win")?this.currentStatus=this.finalStatus:this.count<this.length&&(this.currentStatus+=this.finalStatus[this.count],this.count++)}}])&&s(e.prototype,i),n&&s(e,n),t}();function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.height=25,this.width=25,this.img=new Image,this.img.src="./src/images/heal.png",this.position={x:e,y:i+n/2},this.yVelocity=60,this.done=!1,this.finalPos={y:i-n/2}}var e,i,n;return e=t,(i=[{key:"handleCollision",value:function(){}},{key:"update",value:function(t){this.position.y>=this.finalPos.y?this.position.y-=this.yVelocity/t:this.done=!0}},{key:"draw",value:function(t){if(this.done)return null;t.drawImage(this.img,this.position.x,this.position.y,this.width,this.height)}}])&&o(e.prototype,i),n&&o(e,n),t}();function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=function(){function t(e,i,n,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=n,this.fileName=this.name.split(" ").join(""),this.img=new Image,this.img.src="./src/images/".concat(this.fileName,".png"),this.height=150,this.width=150,this.gameWidth=s,this.gameHeight=a,this.health=e,this.currentHealth=e,this.maxHealth=e,this.attacking=!1,this.inPosition=!1,this.items=[],this.inPosition=!1,this.statusText=null,this.attackText=null,this.attackPower=i,this.velocity=55,this.position={y:20,x:this.gameWidth-this.width-50},this.initialPosition={x:this.gameWidth},this.attackAnimation=this.attackAnimation.bind(this),this.heal=this.heal.bind(this)}var e,i,n;return e=t,(i=[{key:"draw",value:function(t,e){var i=this;this.attacked||t.drawImage(this.img,this.initialPosition.x,this.position.y,this.height,this.width),this.items.forEach((function(n,a){n.done&&(n.handleCollision(),delete i.items[a]),n.update(e),n.draw(t)}))}},{key:"update",value:function(t){t&&(this.initialPosition.x>this.position.x&&(this.initialPosition.x-=this.velocity/t),this.initialPosition.x<=this.position.x&&(this.inPosition=!0))}},{key:"handleAttack",value:function(){var t=this;this.attacked=!0;var e=setInterval((function(){clearInterval(e),t.attacked=!1}),20)}},{key:"attackAnimation",value:function(t){var e=this,i=Math.random(),n=Math.floor((i<.1?.1:i)*this.attackPower+5);this.statusText=new h("".concat(this.name," attacked ").concat(t.name," for ").concat(n," damage!"),this.gameHeight,this.gameWidth),this.attacking=!0;var s=0,o=n/3,r=setInterval((function(){s++,e.items.push(new a(e,t,o)),3===s&&clearInterval(r)}),250),l=setInterval((function(){clearInterval(l),e.attacking=!1}),2500)}},{key:"heal",value:function(){var t=this;this.healAnimation();var e=Math.floor(.1*this.maxHealth);this.statusText=new h("".concat(this.name," healed for ").concat(e,"!"),this.gameHeight,this.gameWidth),this.attacking=!0,this.health+=e,this.health>=100&&(this.health=100);var i=setInterval((function(){clearInterval(i),t.attacking=!1}),2500)}},{key:"healAnimation",value:function(){var t=this,e=0,i=this.width/4,n=this.position.x-this.width/2,a=setInterval((function(){10==++e&&clearInterval(a),6===e&&(i=t.width/3),i+=t.width/5,t.items.push(new r(n+i,t.position.y+t.height/2,t.height))}),100)}},{key:"playTurn",value:function(t){var e=this,i=this.health<20&&t.health>20?function(){return e.heal()}:function(t){return e.attackAnimation(t)};setTimeout((function(){return i(t)}),1)}}])&&l(e.prototype,i),n&&l(e,n),t}();function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var d=function(){function t(e,i,n,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=n,this.fileName=this.name.split(" ").join(""),this.img=new Image,this.img.src="./src/images/".concat(this.fileName,".png"),this.height=150,this.width=150,this.health=e,this.currentHealth=e,this.gameHeight=a,this.gameWidth=s,this.maxHealth=e,this.attacking=!1,this.attacked=!1,this.items=[],this.inPosition=!1,this.statusText=null,this.attackText=null,this.healText=null,this.attackPower=i,this.velocity=55,this.position={y:this.gameHeight-this.height-50,x:40},this.initialPosition={x:-this.width},this.attackAnimation=this.attackAnimation.bind(this),this.draw=this.draw.bind(this)}var e,i,n;return e=t,(i=[{key:"draw",value:function(t,e){var i=this;this.attacked||t.drawImage(this.img,this.initialPosition.x,this.position.y,this.height,this.width),this.items=this.items.filter((function(t){return t})),console.log(this.statusText,"player"),this.items.forEach((function(n,a){n.done&&(n.handleCollision(),delete i.items[a]),n.update(e),n.draw(t)}))}},{key:"update",value:function(t){t&&(this.initialPosition.x<this.position.x&&(this.initialPosition.x+=this.velocity/t),this.initialPosition.x>=this.position.x&&(this.inPosition=!0))}},{key:"handleAttack",value:function(){var t=this;this.attacked=!0;var e=setInterval((function(){clearInterval(e),t.attacked=!1}),20)}},{key:"attackAnimation",value:function(t){var e=this;this.attacking=!0;var i=Math.random(),n=Math.floor((i<.1?.1:i)*this.attackPower+5);this.statusText=new h("".concat(this.name," attacked ").concat(t.name," for ").concat(n," damage!"),this.gameHeight,this.gameWidth);var s=0,o=n/3,r=setInterval((function(){s++,e.items.push(new a(e,t,o)),3===s&&clearInterval(r)}),250),l=setInterval((function(){clearInterval(l),e.attacking=!1}),2500)}},{key:"heal",value:function(){var t=this;this.healAnimation();var e=Math.floor(.1*this.maxHealth);this.statusText=new h("".concat(this.name," healed for ").concat(e,"!"),this.gameHeight,this.gameWidth),this.attacking=!0,this.health+=e,this.health>=100&&(this.health=100);var i=setInterval((function(){clearInterval(i),t.attacking=!1}),2500)}},{key:"healAnimation",value:function(){var t=this,e=0,i=this.width/4,n=this.position.x-this.width/2,a=setInterval((function(){10==++e&&clearInterval(a),6===e&&(i=t.width/3),i+=t.width/5,t.items.push(new r(n+i,t.position.y+t.height/2,t.height))}),100)}}])&&u(e.prototype,i),n&&u(e,n),t}();function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameHeight=e.gameHeight,this.gameWidth=e.gameWidth,this.height=25,this.width=.75*e.width,this.player=e,this.draw=this.draw.bind(this),this.position={x:e.position.x+e.width/8,y:e.position.y+e.height+10}}var e,i,n;return e=t,(i=[{key:"update",value:function(t){this.player.currentHealth!==this.player.health&&(this.player.currentHealth<this.player.health&&(this.player.currentHealth+=.5),this.player.currentHealth>this.player.health&&(this.player.currentHealth-=.5))}},{key:"draw",value:function(t){this.player.inPosition&&(t.fillStyle="white",t.fillRect(this.position.x,this.position.y,this.width,this.height),t.fillStyle="red",t.fillRect(this.position.x,this.position.y,this.width*(this.player.currentHealth/this.player.maxHealth),this.height),t.font="16px Arial",t.fillStyle="black",t.fillText(Math.round(this.player.currentHealth),this.position.x+this.width/2.5,this.position.y+this.height-5))}}])&&f(e.prototype,i),n&&f(e,n),t}();function y(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameHeight=e,this.gameWidth=i,this.game=n,this.height=125,this.width=400,this.selected=0,this.optionsText=["Attack","Heal","Quit"],this.options=[this.attack,this.heal,null],this.position={x:this.gameWidth-this.width-50,y:this.gameHeight-this.height-30}}var e,i,n;return e=t,(i=[{key:"drawLine",value:function(t,e){0===this.selected?(t.beginPath(),t.moveTo(e,this.gameHeight-75),t.lineTo(e+85,this.gameHeight-75),t.closePath(),t.stroke()):1===this.selected?(t.beginPath(),t.moveTo(e+115,this.gameHeight-75),t.lineTo(e+180,this.gameHeight-75),t.closePath(),t.stroke()):2===this.selected&&(t.beginPath(),t.moveTo(e+210,this.gameHeight-75),t.lineTo(e+270,this.gameHeight-75),t.closePath(),t.stroke())}},{key:"draw",value:function(t){t.rect(this.position.x,this.position.y,this.width,this.height),t.fillStyle="white",t.fill(),t.lineWidth=5,t.strokeStyle="black",t.stroke();var e=this.optionsText.join("    ");t.font="30px Arial",t.fillStyle="black";var i=this.position.x+this.width/6;t.fillText(e,i,this.position.y+this.height/1.75),this.drawLine(t,i)}},{key:"attack",value:function(t,e){t.attackAnimation(e)}},{key:"heal",value:function(t){t.heal()}}])&&y(e.prototype,i),n&&y(e,n),t}();function g(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var v=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.computer=i,this.gameState=!0,this.activeAttack=!1,this.start=!1,this.playHealth=new p(this.player),this.compHealth=new p(this.computer),this.battleOptions=new m(this.player.gameHeight,this.player.gameWidth,this),this.winnerText=null,this.currentPlayer=this.player,this.status=null,this.changeTurn=this.changeTurn.bind(this)}var e,i,n;return e=t,(i=[{key:"changeTurn",value:function(){this.currentPlayer===this.player?this.currentPlayer=this.computer:this.currentPlayer=this.player}},{key:"winner",value:function(){var t="";return this.player.health<=0&&(t="".concat(this.computer.name," wins!")),this.computer.health<=0&&(t="".concat(this.player.name," wins!")),!!t&&(this.winnerText=new h(t,this.player.gameHeight,this.player.gameWidth),!0)}},{key:"gameOver",value:function(){return(this.player.currentHealth<=0||this.computer.currentHealth<=0)&&(this.gameState=!1,!0)}}])&&g(e.prototype,i),n&&g(e,n),t}();function w(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var k=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.selected=0,this.length=e.length}var e,i,n;return e=t,(i=[{key:"draw",value:function(t){}},{key:"update",value:function(){}}])&&w(e.prototype,i),n&&w(e,n),t}(),x=[{health:100,attackPower:20,name:"Chrome",attackText:"Chrome used ",healText:" used consume RAM and healed for "},{health:100,attackPower:20,name:"Firefox",attackText:"",healText:""},{health:100,attackPower:0,name:"Internet Explorer",attackText:" used Obsolete, it's pretty useless and did ",healText:""},{health:100,attackPower:20,name:"Safari",attackText:"",healText:""}];document.addEventListener("DOMContentLoaded",(function(){var t,e,i,n=document.getElementById("game-board").getContext("2d"),a=document.getElementById("menu"),s=function s(h){32===h.keyCode&&(h.preventDefault(),n.clearRect(0,0,840,480),a.classList.add("close-menu"),window.removeEventListener("keydown",s),window.addEventListener("keydown",f),e=new d(100,20,"Chrome",480,840),i=new c(100,20,"Firefox",480,840),t=new v(e,i),m())};window.addEventListener("keydown",s);var h,o=document.getElementById("game-over"),r=function n(a){32===a.keyCode&&(a.preventDefault(),o.classList.add("close-menu"),window.removeEventListener("keydown",n),window.addEventListener("keydown",f),e=new d(100,20,"Chrome",480,840),i=new c(100,20,"Firefox",480,840),t=new v(e,i),m())},l=document.getElementById("you-sure"),u=function h(o){121!==o.keyCode&&89!==o.keyCode||(o.preventDefault(),n.clearRect(0,0,840,480),l.classList.add("close-menu"),a.classList.remove("close-menu"),e=null,i=null,t=null,window.removeEventListener("keydown",h),window.addEventListener("keydown",s)),110!==o.keyCode&&78!==o.keyCode||(o.preventDefault(),l.classList.add("close-menu"),window.removeEventListener("keydown",h),window.addEventListener("keydown",f),requestAnimationFrame(m))},f=function e(i){if(t.player.inPosition&&t.computer.inPosition&&(t.start=!0),t.currentPlayer===t.player&&!1===t.activeAttack&&!0===t.start){var n=t.battleOptions.selected;switch(i.keyCode){case 37:i.preventDefault(),(n-=1)<0&&(n=t.battleOptions.options.length-1),t.battleOptions.selected=n;break;case 39:i.preventDefault(),++n>t.battleOptions.options.length-1&&(n=0),t.battleOptions.selected=n;break;case 13:i.preventDefault();var a=t.battleOptions.options[n];if(n===t.battleOptions.options.length-1)return cancelAnimationFrame(h),l.classList.remove("close-menu"),window.removeEventListener("keydown",e),void window.addEventListener("keydown",u);t.activeAttack=!0,t.changeTurn(),a(t.player,t.computer)}}},p=0,y=new k(x);function m(e){var i=e-p;p=e,n.clearRect(0,0,840,480),n.beginPath(),t?(t.computer.attacking||t.player.attacking||!t.gameState||(t.activeAttack=!1),t.currentPlayer!==t.computer||t.activeAttack||(t.activeAttack=!0,t.computer.playTurn(t.player),t.currentPlayer=t.player),t.winner()?(t.winnerText.update(),t.winnerText.draw(n)):t.currentPlayer===t.player&&t.activeAttack?t.computer.statusText?(t.computer.statusText.update(),t.computer.statusText.draw(n)):t.battleOptions.draw(n):t.currentPlayer===t.computer&&t.activeAttack?(t.player.statusText.update(),t.player.statusText.draw(n)):t.battleOptions.draw(n),t.player.update(i),t.player.draw(n,i),t.computer.update(i),t.computer.draw(n,i),t.playHealth.update(i),t.playHealth.draw(n),t.compHealth.update(i),t.compHealth.draw(n),t.gameOver()&&!t.activeAttack&&(t.activeAttack=!0),t.gameState?h=requestAnimationFrame(m):(cancelAnimationFrame(h),setTimeout((function(){window.removeEventListener("keydown",f),o.classList.remove("close-menu"),window.addEventListener("keydown",r)}),1750))):(console.log("hi"),y.update(),y.draw(n),h=requestAnimationFrame(m))}}))}]);
//# sourceMappingURL=main.js.map