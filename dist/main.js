!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=1)}([function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(0);function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(e,i,n,a,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.height=150,this.width=150,this.gameWidth=o,this.gameHeight=a,this.health=e,this.currentHealth=e,this.maxHealth=e,this.inPosition=!1,this.statusText=null,this.name=n,this.fileName=this.name.split(" ").join(""),this.img=new Image,this.img.src="./src/images/".concat(this.fileName,".png"),this.attackPower=i,this.velocity=55,this.position={y:20,x:this.gameWidth-this.width-40},this.initialPosition={x:this.gameWidth},this.attack=this.attack.bind(this),this.heal=this.heal.bind(this)}var e,i,a;return e=t,(i=[{key:"draw",value:function(t){t.drawImage(this.img,this.initialPosition.x,this.position.y,this.height,this.width)}},{key:"update",value:function(t){t&&(this.initialPosition.x>this.position.x&&(this.initialPosition.x-=this.velocity/t),this.initialPosition.x<=this.position.x&&(this.inPosition=!0))}},{key:"attack",value:function(t){var e=Math.floor(Math.random()*this.attackPower);t.health-=e,t.health<=0&&(t.health=0),console.log("".concat(this.name," attacked ").concat(t.name," for ").concat(e," damage!"))}},{key:"heal",value:function(){var t=Math.floor(10*Math.random())+5+this.attackPower/4;this.health+=t,this.health>=100&&(this.health=100),console.log("".concat(this.name," healed for ").concat(t,"!"))}},{key:"playTurn",value:function(t){var e=this,i=this.health<20&&t.health>20?function(){return e.heal()}:function(t){return e.attack(t)};console.log("Attacking"),setTimeout((function(){return i(t)}),500)}}])&&n(e.prototype,i),a&&n(e,a),t}();function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(e,i,n,a,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.height=150,this.width=150,this.health=e,this.currentHealth=e,this.gameHeight=a,this.gameWidth=o,this.maxHealth=e,this.inPosition=!1,this.statusText=null,this.attackPower=i,this.name=n,this.fileName=this.name.split(" ").join(""),this.img=new Image,this.img.src="./src/images/".concat(this.fileName,".png"),this.velocity=55,this.position={y:this.gameHeight-this.height-50,x:40},this.initialPosition={x:-this.width},this.attack=this.attack.bind(this),this.draw=this.draw.bind(this)}var e,i,n;return e=t,(i=[{key:"draw",value:function(t){t.drawImage(this.img,this.initialPosition.x,this.position.y,this.height,this.width)}},{key:"update",value:function(t){t&&(this.initialPosition.x<this.position.x&&(this.initialPosition.x+=this.velocity/t),this.initialPosition.x>=this.position.x&&(this.inPosition=!0))}},{key:"attack",value:function(t){var e=Math.floor(Math.random()*this.attackPower);t.health-=e,t.health<=0&&(t.health=0),console.log("".concat(this.name," attacked ").concat(t.name," for ").concat(e," damage!"))}},{key:"attackAnimation",value:function(){}},{key:"heal",value:function(){var t=Math.floor(.1*this.maxHealth);this.health+=t,this.health>=100&&(this.health=100),console.log("".concat(this.name," healed for ").concat(t,"!"))}},{key:"healAnimation",value:function(){}}])&&o(e.prototype,i),n&&o(e,n),t}();function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameHeight=e.gameHeight,this.gameWidth=e.gameWidth,this.height=25,this.width=.75*e.width,this.player=e,this.draw=this.draw.bind(this),this.position={x:e.position.x+e.width/8,y:e.position.y+e.height+10}}var e,i,n;return e=t,(i=[{key:"update",value:function(t){this.player.currentHealth!==this.player.health&&(this.player.currentHealth<this.player.health&&(this.player.currentHealth+=.5),this.player.currentHealth>this.player.health&&(this.player.currentHealth-=.5))}},{key:"draw",value:function(t){this.player.inPosition&&(t.fillStyle="white",t.fillRect(this.position.x,this.position.y,this.width,this.height),t.fillStyle="red",t.fillRect(this.position.x,this.position.y,this.width*(this.player.currentHealth/this.player.maxHealth),this.height),t.font="16px Arial",t.fillStyle="black",t.fillText(Math.round(this.player.currentHealth),this.position.x+this.width/2.5,this.position.y+this.height-5))}}])&&s(e.prototype,i),n&&s(e,n),t}();function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameHeight=e,this.gameWidth=i,this.height=125,this.width=400,this.selected=0,this.optionsText=["Attack","Heal","Quit"],this.options=[this.attack,this.heal,this.quit],this.position={x:this.gameWidth-this.width-50,y:this.gameHeight-this.height-30}}var e,i,n;return e=t,(i=[{key:"drawLine",value:function(t,e){0===this.selected?(t.beginPath(),t.moveTo(e,this.gameHeight-75),t.lineTo(e+85,this.gameHeight-75),t.closePath(),t.stroke()):1===this.selected?(t.beginPath(),t.moveTo(e+115,this.gameHeight-75),t.lineTo(e+180,this.gameHeight-75),t.closePath(),t.stroke()):2===this.selected&&(t.beginPath(),t.moveTo(e+210,this.gameHeight-75),t.lineTo(e+270,this.gameHeight-75),t.closePath(),t.stroke())}},{key:"draw",value:function(t){t.rect(this.position.x,this.position.y,this.width,this.height),t.fillStyle="white",t.fill(),t.lineWidth=5,t.strokeStyle="black",t.stroke();var e=this.optionsText.join("    ");t.font="30px Arial",t.fillStyle="black";var i=this.position.x+this.width/6;t.fillText(e,i,this.position.y+this.height/1.75),this.drawLine(t,i)}},{key:"attack",value:function(t,e){t.attack(e)}},{key:"heal",value:function(t){t.heal()}},{key:"quit",value:function(){console.log("Button not implemented yet!")}}])&&l(e.prototype,i),n&&l(e,n),t}();function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.computer=i,this.gameState=!0,this.activeAttack=!1,this.start=!1,this.playHealth=new r(this.player),this.compHealth=new r(this.computer),this.battleOptions=new c(this.player.gameHeight,this.player.gameWidth),this.currentPlayer=this.player,this.changeTurn=this.changeTurn.bind(this)}var e,i,n;return e=t,(i=[{key:"changeTurn",value:function(){this.currentPlayer===this.player?this.currentPlayer=this.computer:this.currentPlayer=this.player}},{key:"winner",value:function(){this.player.health<=0&&console.log("".concat(this.computer.name," wins!")),this.computer.health<=0&&console.log("".concat(this.player.name," wins!"))}},{key:"gameOver",value:function(){return(this.player.health<=0||this.computer.health<=0)&&(this.gameState=!1,!0)}}])&&u(e.prototype,i),n&&u(e,n),t}();document.addEventListener("DOMContentLoaded",(function(){var t,e,i,n=document.getElementById("game-board").getContext("2d"),o=document.getElementById("menu");window.addEventListener("keypress",(function s(r){32===r.keyCode&&(n.clearRect(0,0,840,480),o.classList.add("close-menu"),window.removeEventListener("keypress",s),window.addEventListener("keydown",l),e=new h(100,20,"Chrome",480,840),i=new a(100,20,"Firefox",480,840),t=new p(e,i),u())}));var s=document.getElementById("game-over"),r=function o(r){32===r.keyCode&&(n.clearRect(0,0,840,480),s.classList.add("close-menu"),window.removeEventListener("keypress",o),window.addEventListener("keydown",l),e=new h(100,20,"Chrome",480,840),i=new a(100,20,"Firefox",480,840),t=new p(e,i),u())},l=function(e){if(t.player.inPosition&&t.computer.inPosition&&(t.start=!0),t.currentPlayer===t.player&&!1===t.activeAttack&&!0===t.start){var i=t.battleOptions.selected;switch(e.keyCode){case 37:e.preventDefault(),i-=1,t.battleOptions.selected=i<0?t.battleOptions.options.length-1:i;break;case 39:e.preventDefault(),++i>t.battleOptions.options.length-1?t.battleOptions.selected=0:t.battleOptions.selected=i;break;case 13:e.preventDefault();var n=t.battleOptions.options[i];if(i===t.battleOptions.options.length-1)return void n();t.changeTurn(),n(t.player,t.computer)}}},c=0;function u(e){var i=e-c;c=e,n.clearRect(0,0,840,480),t.currentPlayer===t.computer&&!1===t.activeAttack&&(t.computer.playTurn(t.player),t.currentPlayer=t.player),t.player.update(i),t.player.draw(n),t.computer.update(i),t.computer.draw(n),t.playHealth.update(i),t.playHealth.draw(n),t.compHealth.update(i),t.compHealth.draw(n),t.battleOptions.draw(n),t.gameOver()&&t.winner(),t.gameState?requestAnimationFrame(u):(cancelAnimationFrame(u),window.removeEventListener("keydown",l),s.classList.remove("close-menu"),window.addEventListener("keypress",r))}}))}]);
//# sourceMappingURL=main.js.map